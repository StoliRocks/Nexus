package.NexusFrameworkAPIHandlerLambda = {
    interfaces = (1.0);

    # See https://w.amazon.com/?BrazilPython3
    build-system = brazilpython;
    build-tools = {
        1.0 = {
            BrazilPython = 3.0;
        };
    };

    dependencies = {
        1.0 = {
            # Deploy the default python interpreter for your versionset. This
            # guarantees `$ENVROOT/bin/python` and the specific interpreter
            # version it resolves to will exist in your deployment.
            #
            # This is only needed for application packages that will be run
            # from the CLI; if you are making a library, this is not needed.
            #
            Python = default;

            # Uncomment if you want working auto-created bin wrapper scripts.
            # See setup.py
            #
            Python-setuptools = default;

            Python-aws-lambda-powertools = 3.x;
            Python-default-for-BATS-lambda = 1.0;

            # Shared Nexus libraries
            NexusApplicationCommons = 1.0;
            NexusApplicationInterface = 1.0;

            # Pydantic for ValidationError handling
            Python-pydantic = 2.x;

            # Note: boto3 is provided by Python-default-for-BATS-lambda via Boto3 package
            # Do NOT add Python-boto3 here as it conflicts with Boto3
        };
    };

    test-dependencies = {
        1.0 = {
            BrazilPython-Pytest = any;
            Pytest = 8.x;
            Python-Pytest-cov = 4.x;
            Coverage = 7.x;

            # Mock AWS services
            Python-moto = 5.x;

            # Runtime dependencies needed during test import
            # Note: Do NOT add Python-boto3 - it conflicts with Boto3 from Python-default-for-BATS-lambda
            Python-default-for-BATS-lambda = 1.0;
            Python-pydantic = 2.x;
            Python-aws-lambda-powertools = 3.x;
            NexusApplicationCommons = 1.0;
            NexusApplicationInterface = 1.0;

            # Enable the guard command to watch tests and automatically re-run them
            BrazilPython-Pytest-Guard = any;

            # Sphinx documentation with Amazon customizations so that
            # links on code.amazon.com work
            Python-amazon-doc-utils = 1.0;
            Sphinx = 7.x;

            # Dependencies for formatting checks. Controlled in `setup.cfg` and
            # `pyproject.toml`
            BrazilPython-formatters = 1.0;
            Python-black = no1;
            Python-isort = 6.x;

            # Dependencies for type checking. Controlled in `setup.cfg` and
            # `pyproject.toml`
            BrazilPython-mypy = any;
            Python-mypy = 1.x;

            # Dependencies for build-time linting. Controlled in `setup.cfg`
            BrazilPython-Flake8 = any;
            Python-flake8 = 7.x;
            Python-pep8-naming = 0.x;
            # Uncomment if you want to make flake8 check docstrings
            # Python-flake8-docstrings = 1.x;
        };
    };

    targets = {
        # see setup.py for the actual build logic
        # keep this line for brazil-path to work
        python = { type = python; };
    };
};
